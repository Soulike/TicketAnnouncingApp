(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){e.exports={EventNameInput:"Style_EventNameInput__1xJmj",formWrapper:"Style_formWrapper__3P_-M",eventNameInput:"Style_eventNameInput__j1ujX"}},179:function(e,t,n){e.exports={TopBar:"Style_TopBar__2Nzog",eventName:"Style_eventName__ngTHH"}},259:function(e,t,n){e.exports={Root:"Style_Root__3piOA"}},263:function(e,t,n){e.exports=n(568)},480:function(e,t,n){},568:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"Storage",function(){return I});var o={};n.r(o),n.d(o,"setEventName",function(){return W}),n.d(o,"getEventName",function(){return F}),n.d(o,"removeEventName",function(){return U}),n.d(o,"setPeopleList",function(){return D}),n.d(o,"getPeopleList",function(){return x}),n.d(o,"removePeopleList",function(){return G});n(264),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(109),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(312),n(313),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(376),n(377),n(378),n(379),n(382),n(383),n(384),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(213),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(474),n(221),n(475);var r=n(0),c=n.n(r),l=n(9),i=n.n(l),s=(n(480),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function u(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(481);var p=n(127),m=n.n(p);n(483);m.a.locale("zh-cn");var d=n(261),v=n.n(d),f=n(260),N=n.n(f),E=n(177),h=n(70),y=n(72),_=n(55),g=n(85),P=n(133),k=n(129),b=n(134),C=n(104),w=n.n(C),S=n(135),V=n.n(S),B=n(130),O=n.n(B),A=n(37),T=n.n(A);var M=c.a.memo(function(e){var t=e.onEventNameInputChange,n=e.eventName,a=e.onConfirmButtonClick;return c.a.createElement("div",{className:V.a.EventNameInput},c.a.createElement("div",{className:V.a.formWrapper},c.a.createElement(O.a,{size:"large",placeholder:"+ \u6dfb\u52a0\u6d3b\u52a8",className:V.a.eventNameInput,value:n,onChange:t,autoFocus:!0}),c.a.createElement(T.a,{type:"primary",onClick:a},"\u786e\u5b9a")))}),j=n(250),I=function(){function e(){Object(_.a)(this,e),this.content={}}return Object(g.a)(e,[{key:"key",value:function(e){if(Number.isInteger(e))return Object.keys(this.content)[e];throw new TypeError("The parameter key must be an integer")}},{key:"getItem",value:function(e){return this.content[e]}},{key:"setItem",value:function(e,t){this.content[e]=t.toString()}},{key:"removeItem",value:function(e){delete this.content[e]}},{key:"clear",value:function(){this.content={}}}]),e}(),L=null;try{L=window.localStorage,window.localStorage.getItem("")}catch(Be){L=new I}function W(e){L.setItem("eventName",e)}function F(){return L.getItem("eventName")}function U(){L.removeItem("eventName")}function D(e){L.setItem("peopleList",JSON.stringify(e))}function x(){try{var e=L.getItem("peopleList");return e?JSON.parse(e):[]}catch(Be){return[]}}function G(){L.removeItem("peopleList")}var R=Object(j.a)({},o,a),J=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(P.a)(this,Object(k.a)(t).call(this,e))).onEventNameInputChange=function(e){n.setState({eventName:e.target.value})},n.onConfirmButtonClick=function(){var e=n.state.eventName;R.setEventName(e),w.a.success("\u65b0\u5efa\u6d3b\u52a8\u6210\u529f"),n.props.history.push(ke[Pe.EVENT_PAGE])},n.state={eventName:""},n}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){R.removeEventName(),R.removePeopleList()}},{key:"render",value:function(){var e=this.state.eventName;return c.a.createElement(M,{eventName:e,onEventNameInputChange:this.onEventNameInputChange,onConfirmButtonClick:this.onConfirmButtonClick})}}]),t}(c.a.Component),z=Object(h.f)(J),H=n(262),q=n(59),K=n.n(q),Q=n(179),X=n.n(Q);var $=c.a.memo(function(e){var t=e.eventName;return c.a.createElement("div",{className:X.a.TopBar},c.a.createElement("span",{className:X.a.eventName},t),"\u6d3b\u52a8")}),Y=n(57),Z=n.n(Y),ee=n(257),te=n.n(ee),ne=n(60),ae=n.n(ne),oe=n(254),re=n.n(oe),ce=n(23),le=n.n(ce),ie=n(255),se=n.n(ie);var ue=c.a.memo(function(e){var t=e.people,n=t.name,a=t.numberOfVote,o=e.onAddVoteButtonClick,r=e.onDeleteButtonClick,l=e.onMinusVoteButtonClick;return c.a.createElement("div",{className:ae.a.VoteStatus},c.a.createElement("div",{className:ae.a.wrapper},c.a.createElement("div",{className:ae.a.peopleName},n)),c.a.createElement("div",{className:"".concat(ae.a.wrapper," ").concat(ae.a.rightWrapper)},c.a.createElement("div",{className:ae.a.tagWrapper},c.a.createElement(Z.a,{title:"\u5f97\u7968\u6570"},c.a.createElement(re.a,{className:ae.a.numberOfVote,color:"blue"},a))),c.a.createElement(Z.a,{title:"\u4e3a".concat(n,"\u52a0\u4e00\u7968")},c.a.createElement(T.a,{type:"primary",shape:"circle",onClick:o},c.a.createElement(le.a,{type:"plus"}))),c.a.createElement(Z.a,{title:"\u4e3a".concat(n,"\u51cf\u4e00\u7968")},c.a.createElement(T.a,{shape:"circle",onClick:l},c.a.createElement(le.a,{type:"minus"}))),c.a.createElement(Z.a,{title:"\u5220\u9664".concat(n)},c.a.createElement(se.a,{title:"\u786e\u8ba4\u5220\u9664 ".concat(n,"\uff1f"),onConfirm:r,placement:"left"},c.a.createElement(T.a,{shape:"circle",type:"danger"},c.a.createElement(le.a,{type:"delete"}))))))}),pe=n(175),me=n.n(pe),de=n(256),ve=n.n(de);var fe,Ne,Ee=c.a.memo(function(e){var t=e.eventName,n=e.onAddPeopleButtonClick,a=e.addPeopleModalVisible,o=e.onAddPeopleModalOk,r=e.onAddPeopleModalCancel,l=e.onNewPeopleNameChange,i=e.newPeopleName,s=e.peopleList,u=e.onAddVoteButtonClickFactory,p=e.onMinusVoteButtonClickFactory,m=e.onDeleteButtonClickFactory;return c.a.createElement("div",{className:K.a.EventPage},c.a.createElement($,{eventName:t}),c.a.createElement("div",{className:K.a.voteStatusList},0===s.length?c.a.createElement("div",{className:K.a.emptyWrapper},c.a.createElement(me.a,{description:"\u6682\u65e0\u4eba\u5458"})):s.map(function(e,t){return c.a.createElement("div",{className:K.a.voteStatusWrapper},c.a.createElement(ue,{people:e,onAddVoteButtonClick:u(t),onDeleteButtonClick:m(t),onMinusVoteButtonClick:p(t),key:t}))})),c.a.createElement("div",{className:K.a.addPeopleButtonWrapper},c.a.createElement(Z.a,{title:"\u6dfb\u52a0\u4eba\u5458"},c.a.createElement(T.a,{shape:"circle",size:"large",type:"primary",className:K.a.addPeopleButton,onClick:n},"+"))),c.a.createElement(ve.a,{className:K.a.backToTopButton}),c.a.createElement(te.a,{destroyOnClose:!0,title:"\u6dfb\u52a0\u4eba\u5458",visible:a,onOk:o,onCancel:r,width:300},c.a.createElement(O.a,{placeholder:"\u65b0\u4eba\u5458\u7684\u540d\u5b57",autoFocus:!0,value:i,onChange:l})))}),he=function e(t,n){Object(_.a)(this,e),this.name=t,this.numberOfVote=n},ye=n(258),_e=n.n(ye),ge=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(P.a)(this,Object(k.a)(t).call(this,e))).onAddPeopleButtonClick=function(){n.setState({addPeopleModalVisible:!0})},n.onAddPeopleModalOk=function(){var e=n.state,t=e.newPeopleName,a=e.peopleList;0===t.length?w.a.warning("\u8bf7\u8f93\u5165\u65b0\u4eba\u5458\u7684\u540d\u5b57"):(a.push(new he(t,0)),R.setPeopleList(a),n.forceUpdate(),n.setState({addPeopleModalVisible:!1,newPeopleName:""}))},n.onAddPeopleModalCancel=function(){n.setState({addPeopleModalVisible:!1,newPeopleName:""})},n.onNewPeopleNameChange=function(e){n.setState({newPeopleName:e.target.value})},n.onAddVoteButtonClickFactory=function(e){return function(){var t=n.state.peopleList;t[e].numberOfVote++,R.setPeopleList(t),n.forceUpdate()}},n.onMinusVoteButtonClickFactory=function(e){return function(){var t=n.state.peopleList,a=t[e];a.numberOfVote>0&&(a.numberOfVote--,R.setPeopleList(t),n.forceUpdate())}},n.onDeleteButtonClickFactory=function(e){return function(){var t=n.state.peopleList,a=t[e];t.splice(e,1),R.setPeopleList(t),n.forceUpdate(function(){_e.a.success({description:"\u4eba\u5458".concat(a.name,"\u5df2\u5220\u9664"),message:"\u5220\u9664\u6210\u529f"})})}},n.state={eventName:"",addPeopleModalVisible:!1,newPeopleName:"",peopleList:[]},n}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=R.getEventName();e?this.setState({eventName:e}):(w.a.warning("\u8bf7\u5148\u521b\u5efa\u6d3b\u52a8"),this.props.history.push(ke[Pe.EVENT_NAME_INPUT]));var t=R.getPeopleList();this.setState({peopleList:t})}},{key:"render",value:function(){var e=this.state,t=e.eventName,n=e.peopleList,a=e.addPeopleModalVisible,o=e.newPeopleName;return c.a.createElement(Ee,{eventName:t,addPeopleModalVisible:a,onAddPeopleButtonClick:this.onAddPeopleButtonClick,onAddPeopleModalOk:this.onAddPeopleModalOk,onAddPeopleModalCancel:this.onAddPeopleModalCancel,newPeopleName:o,onNewPeopleNameChange:this.onNewPeopleNameChange,peopleList:Object(H.a)(n),onAddVoteButtonClickFactory:this.onAddVoteButtonClickFactory,onMinusVoteButtonClickFactory:this.onMinusVoteButtonClickFactory,onDeleteButtonClickFactory:this.onDeleteButtonClickFactory})}}]),t}(c.a.Component),Pe={EVENT_NAME_INPUT:Symbol("EVENT_NAME_INPUT"),EVENT_PAGE:Symbol("EVENT_PAGE")},ke=(fe={},Object(y.a)(fe,Pe.EVENT_NAME_INPUT,"/eventNameInput"),Object(y.a)(fe,Pe.EVENT_PAGE,"/eventPage"),fe),be=(Ne={},Object(y.a)(Ne,Pe.EVENT_NAME_INPUT,z),Object(y.a)(Ne,Pe.EVENT_PAGE,ge),Ne),Ce=n(259),we=n.n(Ce);var Se=c.a.memo(function(e){var t=e.children;return c.a.createElement("main",{className:we.a.Root},t)}),Ve=function(){return c.a.createElement(E.a,null,c.a.createElement(Se,null,c.a.createElement(h.d,null,Object.values(Pe).map(function(e){return c.a.createElement(h.b,{path:ke[e],component:be[e],key:ke[e]})}),c.a.createElement(h.b,{children:c.a.createElement(h.a,{to:ke[Pe.EVENT_NAME_INPUT]})}))))};i.a.render(c.a.createElement(N.a,{locale:v.a},c.a.createElement(Ve,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/VoteAnnouncingApp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/VoteAnnouncingApp","/service-worker.js");s?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):u(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):u(t,e)})}}()},59:function(e,t,n){e.exports={EventPage:"Style_EventPage__1Gbpf",voteStatusList:"Style_voteStatusList__2aVxK",voteStatusWrapper:"Style_voteStatusWrapper__2gE8k",emptyWrapper:"Style_emptyWrapper__35zJd",backToTopButton:"Style_backToTopButton__1_jNA",addPeopleButtonWrapper:"Style_addPeopleButtonWrapper__2iDjP",addPeopleButton:"Style_addPeopleButton__35PRy"}},60:function(e,t,n){e.exports={VoteStatus:"Style_VoteStatus__SquQc",wrapper:"Style_wrapper__1GhP8",rightWrapper:"Style_rightWrapper__3VOBc",tagWrapper:"Style_tagWrapper__2CH7G",numberOfVote:"Style_numberOfVote__u-D1e"}}},[[263,1,2]]]);
//# sourceMappingURL=main.e61e0bb1.chunk.js.map